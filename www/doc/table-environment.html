<!DOCTYPE html>
<html>
<head>
<title>environment SQLite table</title>
<link rel="stylesheet" href="style.css"/>
</head>
<body>
<h1>environment SQLite table</h1>
The environment allows different modules to interface with each other.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>environment_id<td>integer<td><p>Internal identifier for each environment.<p>Primary key.</tr>
<tr><td>environment_guid<td>text<td><p>Universal identifier for each environment.<p>Unique.</tr>
<tr><td>for_new_users<td>integer<td><p>Flag that indicates whether the environment is intended for new users.<p>Defaults to false.</tr>
<tr><td>for_administrators<td>integer<td><p>Flag that indicates whether the environment is intended for administrators.<p>Defaults to false.</tr>
<tr><td>create_date<td>text<td><p>Environment create date.</tr>
<tr><td>open_to_public<td>integer<td><p>Flag that sets whether the environment can be accessed by anonymous users.<p>Defaults to true.</tr>
<tr><td>open_for_visits<td>integer<td><p>Flag that sets whether the environment can be accessed by users.<p>Defaults to true.</tr>
<tr><td>open_for_modification<td>integer<td><p>Flag that sets whether the environment can be accessed by users.<p>Defaults to true.</tr>
<tr><td>visit_count<td>integer<td><p>Number of visits to this environment.<p>Starts at zero.</tr>
<tr><td>owner<td>integer<td><p>Reference to the owning user.</tr>
<tr><td>root_list_id<td>integer<td><p>Reference to the list ID that will identify the environment's root block type.</tr>
</table>

<h1>featured_environment SQLite table</h1>
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>environment_id<td>integer<td><p>Reference to the featured environment.</tr>
<tr><td>owner<td>integer<td><p>Reference to the user (generally an administrator) that featured the given environment.</tr>
</table>

<h1>environment_tag_entry SQLite table</h1>
Many-to-many link between environments and tags.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>tag_id<td>integer<td><p>Reference to the environment tag.</tr>
<tr><td>environment_id<td>integer<td><p>Reference to the tagged environment.</tr>
<tr><td>owner<td>integer<td><p>Reference to the creating user.</tr>
</table>

<h1>environment_tag SQLite table</h1>
Allows semantic grouping of environments. An environment may have many tags, and a tag may be
used for many environments.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>tag_id<td>integer<td><p>Internal identifier for this tag record.<p>Primary key.</tr>
<tr><td>name<td>text<td><p>The name of this tag</tr>
</table>

<h1>ignored_environment SQLite table</h1>
Entries of ignored environments that the given user has ignored.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>environment_id<td>integer<td><p>Reference to the ignored environment.</tr>
<tr><td>user_id<td>integer<td><p>Reference to the ignoring user.</tr>
</table>

<h1>environment_permission SQLite table</h1>
Permissions for a given user to visit a given environment. Unique for each environment+user pair. If a user accesses an environment, but there is no environment_permission
record, then the <code>open_to_visits</code> and <code>open_to_modification</code> permission is used for visits for logged-in users. Anonymous users can visit only if <code>open_to_public</code> and <code>open_to_visits</code> are both true. Anonymous users cannot modify environments, though they may modify the content of certain environment types.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>environment_id<td>integer<td><p>Reference to the ignored environment.</tr>
<tr><td>user_id<td>integer<td><p>Reference to the user.</tr>
<tr><td>allow_visit<td>integer<td><p>Whether the referenced user can access the referenced environment.<p>Defaults to true. If false, the user cannot access the environment.</tr>
<tr><td>allow_administration<td>integer<td><p>Whether the referenced user can administrate the referenced environment.<p>Defaults to false.</tr>
</table>

<h1>environment_invite SQLite table</h1>
An invite from one user to another user to join a given environment.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>environment_id<td>integer<td><p>Reference to the environment to join.</tr>
<tr><td>to_user_id<td>integer<td><p>Reference to the user to invite.</tr>
<tr><td>from_user_id<td>integer<td><p>Reference to the user that sent the invite.</tr>
<tr><td>send_date<td>text<td><p>Timestamp when the invite was/will be sent.</tr>
</table>

<h1>saved_environment SQLite table</h1>
A user can save environments.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>environment_id<td>integer<td><p>Reference to the saved environment.</tr>
<tr><td>user_id<td>integer<td><p>Reference to the saving user.</tr>
<tr><td>name<td>text<td><p>Name of the saved environment</tr>
</table>

<h1>environment_visit SQLite table</h1>
Records the last visits of a user to a given environment.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>environment_id<td>integer<td><p>Reference to the visited environment.</tr>
<tr><td>user_id<td>integer<td><p>Reference to the visiting user.</tr>
<tr><td>last_visit<td>text<td><p>Timestamp of the most recent recorded event by the user.</tr>
</table>

<h1>user SQLite table</h1>
The user.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>id<td>integer<td><p>Internal identifier for the user.<p>Primary key.</tr>
<tr><td>is_super_admin<td>integer<td><p>Flag that sets whether the user is treated as an administrator in all server environments.</tr>
<tr><td>is_banned<td>integer<td><p>Flag that sets whether the user is banned from all server environments.</tr>
<tr><td>create_date<td>text<td><p>Date that the user was created.</tr>
<tr><td>allow_subscription<td>integer<td><p>Flag that indicates whether the user allows for subscription.</tr>
<tr><td>username<td>blob<td><p>Name of the user.<p>Unique.</tr>
<tr><td>email<td>blob<td><p>Email for the user.</tr>
<tr><td>password<td>blob<td><p>Password storage.</tr>
<tr><td>password_salt<td>blob<td><p>Password salt storage.</tr>
<tr><td>profile<td>text<td><p>Profile, in HTML text, to describe the user.</tr>
</table>

<h1>login SQLite table</h1>
User logins.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>id<td>integer<td><p>Internal identifier for this login entry.<p>Primary key.</tr>
<tr><td>username<td>blob<td><p>Reference to this login's authenticated user.</tr>
<tr><td>selector<td>blob<td><p>Identifying selector for this login entry.</tr>
<tr><td>token<td>blob<td><p>Identifying token for this login entry.</tr>
<tr><td>online_environment_id<td>integer<td><p>Reference to the environment that contains this login. i.e the active environment.</tr>
</table>

<h1>list_item SQLite table</h1>
List items.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>id<td>integer<td><p>Internal identifier for this list item.<p>Primary key.</tr>
<tr><td>type<td>integer<td><p>Identifying type for this list item.</tr>
<tr><td>value<td>blob<td><p>The value for this list item.<p>Not null.</tr>
<tr><td>list_id<td>integer<td><p>Reference to this list item's parent.</tr>
<tr><td>next<td>integer<td><p>Reference to this list item's next sibling node.</tr>
<tr><td>prev<td>integer<td><p>Reference to this list item's previous sibling node.</tr>
</table>

<h1>user_subscription SQLite table</h1>
User subscribe to other users.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>subscriber_id<td>integer<td><p>Reference to the subscribing user.</tr>
<tr><td>subscription_id<td>integer<td><p>Reference to the user that is the target of subscription.</tr>
<tr><td>subscription_date<td>text<td><p>Date that the subscription was created.</tr>
</table>

<h1>user_friend SQLite table</h1>
Users have friends.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>user_id<td>integer<td><p>Reference to the user that has friends.</tr>
<tr><td>friend_id<td>integer<td><p>Reference to the user that is the friend.</tr>
<tr><td>create_date<td>text<td><p>Date that the friendship was created.</tr>
<tr><td>accept_date<td>text<td><p>Date that the friendship was accepted.</tr>
</table>

<h1>user_ignore SQLite table</h1>
Users can ignore other users.
<h2>Fields</h2>
<table>
<tr><th>Name<th>Type<th>Value</tr>
<tr><td>user_id<td>integer<td><p>Reference to the user that has friends.</tr>
<tr><td>ignored_id<td>integer<td><p>Reference to the ignored user.</tr>
<tr><td>ignore_date<td>integer<td><p>Create date for this ignore.</tr>
</table>

</body>
</html>
