<!DOCTYPE html>
<html>
<head>
<title>Alpha</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>

.alpha_GLWidget {
    width: 100%;
    height: 100%;
}

body {
    font-family: sans-serif;
    margin: 0;
    padding: 0;
    background: #111;
    color: #eee;
}

body > div {
    text-align: center;
    position: absolute;
}

.Successful {
    color: green;
}

.Crashed {
    color: maroon;
}

.Failed {
    color: red;
}

@media only screen and (max-width: 980px) {

body > div {
    width: 100%;
}

body > div input {
    clear: left;
}

}
</style>
<script src="parsegraph-1.0.js"></script>
<script>

document.addEventListener("DOMContentLoaded", function(event) {

parsegraph_initialize();

var widget = new alpha_GLWidget();

var start = alpha_GetTime();

// This flag is used to squelch rendering if that function
// threw an exception and failed to complete.
var needsRender = false;
var tick = function() {
    // Check if a render is needed before another tick should occur.
    if(needsRender) {
        return;
    }

    // Update the scene.
    //console.log("Running tick... ");
    var t = alpha_GetTime();
    widget.Tick(t - start);
    start = t;

    // Set the render flag.
    needsRender = true;
    widget.scheduleRepaint();
    widget.afterRender = function() {
        //console.log("Tick and render complete.");
        needsRender = false;
    };
}; // Tick
tick();
var tickIntervalId = window.setInterval(tick, 1000/24);

document.body.appendChild(widget.container());

}); // DOMContentLoaded
</script>
</head>
<body>
</body>
</html>
